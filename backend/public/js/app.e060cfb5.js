(function(e){function t(t){for(var s,o,i=t[0],c=t[1],u=t[2],g=0,p=[];g<i.length;g++)o=i[g],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);l&&l(t);while(p.length)p.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],s=!0,i=1;i<r.length;i++){var c=r[i];0!==n[c]&&(s=!1)}s&&(a.splice(t--,1),e=o(o.s=r[0]))}return e}var s={},n={app:0},a=[];function o(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=s,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(r,s,function(t){return e[t]}.bind(null,s));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=c;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"4e63":function(e,t,r){e.exports=r.p+"img/addPost.2155508e.png"},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var s=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main-layout",attrs:{id:"app"}},[r("router-view")],1)},a=[],o={components:{}},i=o,c=r("2877"),u=Object(c["a"])(i,n,a,!1,null,null,null),l=u.exports,g=r("9483");Object(g["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var p=r("8c4f"),d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("navbar"),r("div",{staticClass:"home"},[r("post-list",{attrs:{posts:e.posts}})],1)],1)},m=[],f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"post-list"},e._l(e.posts,(function(e){return r("post-preview",{key:e._id,attrs:{post:e}})})),1)},C=[],h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"post-preview"},[r("div",{staticClass:"top-section"},[r("div",{staticClass:"user-and-pic"},[r("router-link",{staticClass:"home",attrs:{to:"/user/"+e.userName+"/home",exact:""}},[r("img",{staticClass:"profile-pic",attrs:{src:e.post.createdBy.avatar}})]),r("span",{staticClass:"creator-name"},[e._v(e._s(e.post.createdBy.userName))])],1),r("span",{staticClass:"post-menu",on:{click:e.changeModal}},[e._v("...")])]),e.isModalOpen?r("div",{staticClass:"post-modal",on:{click:e.changeModal}},[r("ul",{staticClass:"action-list"},[this.userName.userName===this.post.createdBy.userName||!0===this.userName.isAdmin?r("li",{staticClass:"delete-post",on:{click:e.deletePost}},[e._v("delete post")]):e._e(),r("li",{staticClass:"close-modal"},[e._v("Cancel")])])]):e._e(),r("img",{staticClass:"image-post",attrs:{src:e.post.imgUrl}}),r("div",{staticClass:"action-bar"},[r("div",{staticClass:"left-side-actions"},[r("span",{staticClass:"like-btn",on:{click:e.changeLike}},[r("button",{staticClass:"wpO6b",attrs:{type:"button"},domProps:{innerHTML:e._s(e.post.isLiked?e.likesPathColor.fullLike:e.likesPathColor.emptyLike)}})]),r("span",{staticClass:"comment-btn",on:{click:e.focusComment}},[r("button",{staticClass:"wpO6b",attrs:{type:"button"}},[r("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Comment",fill:"#262626",height:"24",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{"clip-rule":"evenodd",d:"M47.5 46.1l-2.8-11c1.8-3.3 2.8-7.1 2.8-11.1C47.5 11 37 .5 24 .5S.5 11 .5 24 11 47.5 24 47.5c4 0 7.8-1 11.1-2.8l11 2.8c.8.2 1.6-.6 1.4-1.4zm-3-22.1c0 4-1 7-2.6 10-.2.4-.3.9-.2 1.4l2.1 8.4-8.3-2.1c-.5-.1-1-.1-1.4.2-1.8 1-5.2 2.6-10 2.6-11.4 0-20.6-9.2-20.6-20.5S12.7 3.5 24 3.5 44.5 12.7 44.5 24z","fill-rule":"evenodd"}})])])]),r("button",{staticClass:"share",attrs:{type:"button"}},[r("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Share Post",fill:"#262626",height:"24",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{d:"M46.5 3.5h-45C.6 3.5.2 4.6.8 5.2l16 15.8 5.5 22.8c.2.9 1.4 1 1.8.3L47.4 5c.4-.7-.1-1.5-.9-1.5zm-40.1 3h33.5L19.1 18c-.4.2-.9.1-1.2-.2L6.4 6.5zm17.7 31.8l-4-16.6c-.1-.4.1-.9.5-1.1L41.5 9 24.1 38.3z"}}),r("path",{attrs:{d:"M14.7 48.4l2.9-.7"}})])])]),r("div",{staticClass:"right-side-actions"},[r("span",{staticClass:"bookmark"},[r("button",{staticClass:"wpO6b",attrs:{type:"button"}},[r("svg",{attrs:{fill:"#262626",height:"24",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{d:"M43.5 48c-.4 0-.8-.2-1.1-.4L24 29 5.6 47.6c-.4.4-1.1.6-1.6.3-.6-.2-1-.8-1-1.4v-45C3 .7 3.7 0 4.5 0h39c.8 0 1.5.7 1.5 1.5v45c0 .6-.4 1.2-.9 1.4-.2.1-.4.1-.6.1zM24 26c.8 0 1.6.3 2.2.9l15.8 16V3H6v39.9l15.8-16c.6-.6 1.4-.9 2.2-.9z"}})])])])])]),r("section",{staticClass:"bottom-section"},[r("div",{staticClass:"like-count"},[e._v(e._s(e.post.likes)+" likes")]),r("div",{staticClass:"post-desc"},[r("span",{staticClass:"creator-name"},[e._v(e._s(e.post.createdBy.userName)+" ")]),r("span",[e._v(e._s(e.post.desc))])]),r("div",{staticClass:"view-comments"},[e._v("view all "+e._s(e.post.comments.length)+" comments")]),r("ul",{staticClass:"comments"},e._l(e.post.comments,(function(t){return r("li",{key:t._id},[r("span",{staticClass:"creator-name"},[e._v(e._s(t.userName)+" ")]),r("span",[e._v(" "+e._s(t.txt))])])})),0)]),r("div",[r("form",{staticClass:"add-comment",on:{submit:function(t){return t.preventDefault(),e.addComment(t)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.commentBody,expression:"commentBody"}],ref:"comment",staticClass:"form-input",attrs:{type:"text",placeholder:"Add a comment...",required:""},domProps:{value:e.commentBody},on:{input:function(t){t.target.composing||(e.commentBody=t.target.value)}}}),r("button",{staticClass:"post-section-btn"},[e._v("Post")])])])])},v=[],I=(r("96cf"),r("1da1"));function A(){var e={emptyHome:'<svg class="home-btn" height="22" fill="#262626" viewBox="0 0 48 48" width="22"> <path d="M45.3 48H30c-.8 0-1.5-.7-1.5-1.5V34.2c0-2.6-2-4.6-4.6-4.6s-4.6 2-4.6 4.6v12.3c0 .8-.7 1.5-1.5 1.5H2.5c-.8 0-1.5-.7-1.5-1.5V23c0-.4.2-.8.4-1.1L22.9.4c.6-.6 1.5-.6 2.1 0l21.5 21.5c.4.4.6 1.1.3 1.6 0 .1-.1.1-.1.2v22.8c.1.8-.6 1.5-1.4 1.5zm-13.8-3h12.3V23.4L24 3.6l-20 20V45h12.3V34.2c0-4.3 3.3-7.6 7.6-7.6s7.6 3.3 7.6 7.6V45z"></path> </svg>',fullHome:'<svg aria-label="Home" class="_8-yf5 " fill="#262626" height="22" viewBox="0 0 48 48" width="22"><path d="M45.5 48H30.1c-.8 0-1.5-.7-1.5-1.5V34.2c0-2.6-2.1-4.6-4.6-4.6s-4.6 2.1-4.6 4.6v12.3c0 .8-.7 1.5-1.5 1.5H2.5c-.8 0-1.5-.7-1.5-1.5V23c0-.4.2-.8.4-1.1L22.9.4c.6-.6 1.6-.6 2.1 0l21.5 21.5c.3.3.4.7.4 1.1v23.5c.1.8-.6 1.5-1.4 1.5z"></path></svg>'};return e}function w(){var e={emptyLike:' <svg aria-label="Like" class="_8-yf5" fill="#262626" height="24" viewBox="0 0 48 48" width="24"><path clip-rule="evenodd" d="M34.3 3.5C27.2 3.5 24 8.8 24 8.8s-3.2-5.3-10.3-5.3C6.4 3.5.5 9.9.5 17.8s6.1 12.4 12.2 17.8c9.2 8.2 9.8 8.9 11.3 8.9s2.1-.7 11.3-8.9c6.2-5.5 12.2-10 12.2-17.8 0-7.9-5.9-14.3-13.2-14.3zm-1 29.8c-5.4 4.8-8.3 7.5-9.3 8.1-1-.7-4.6-3.9-9.3-8.1-5.5-4.9-11.2-9-11.2-15.6 0-6.2 4.6-11.3 10.2-11.3 4.1 0 6.3 2 7.9 4.2 3.6 5.1 1.2 5.1 4.8 0 1.6-2.2 3.8-4.2 7.9-4.2 5.6 0 10.2 5.1 10.2 11.3 0 6.7-5.7 10.8-11.2 15.6z" fill-rule="evenodd" /></svg>',fullLike:'<svg aria-label="Unlike" class="_8-yf5 " fill="#ed4956" height="24" viewBox="0 0 48 48" width="24"><path clip-rule="evenodd" d="M35.3 35.6c-9.2 8.2-9.8 8.9-11.3 8.9s-2.1-.7-11.3-8.9C6.5 30.1.5 25.6.5 17.8.5 9.9 6.4 3.5 13.7 3.5 20.8 3.5 24 8.8 24 8.8s3.2-5.3 10.3-5.3c7.3 0 13.2 6.4 13.2 14.3 0 7.8-6.1 12.3-12.2 17.8z" fill-rule="evenodd"></path></svg>'};return e}function b(){var e={feedPage:'<div class="create-new-post"><img src="src/photos/add_btn.png"></div>'};return e}var y={getHomePath:A,getLikePath:w,getPublishPath:b},x={props:{post:Object},components:{},data:function(){return{commentBody:"",isModalOpen:!1,likesPathColor:y.getLikePath()}},methods:{addComment:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={postId:e.post._id,txt:e.commentBody,createdAt:Date.now(),userName:e.userName.userName},t.next=3,e.$store.dispatch({type:"addComment",comment:r});case 3:e.commentBody="";case 4:case"end":return t.stop()}}),t)})))()},changeLike:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=parseInt(e.post.likes),e.post.isLiked=!e.post.isLiked,e.post.isLiked?(r+=1,e.post.likes=r):(r-=1,e.post.likes=r),t.next=5,e.$store.dispatch({type:"changeLike",post:e.post});case 5:case"end":return t.stop()}}),t)})))()},focusComment:function(){this.$refs.comment.focus()},deletePost:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch({type:"deletePost",post:e.post});case 2:e.changeModal();case 3:case"end":return t.stop()}}),t)})))()},changeModal:function(){this.isModalOpen=!this.isModalOpen}},computed:{userName:function(){return this.$store.getters.loggedInUser?this.$store.getters.loggedInUser:-1}}},_=x,k=Object(c["a"])(_,h,v,!1,null,null,null),O=k.exports,P={props:{posts:Array},components:{postPreview:O}},R=P,N=Object(c["a"])(R,f,C,!1,null,null,null),U=N.exports,M=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",[s("div",{staticClass:"main-header",attrs:{id:"nav"}},[s("div",{staticClass:"create-new-post"},["create"!==e.router?s("router-link",{attrs:{to:"/user/:"+e.user.userName+"/create",exact:""}},[s("img",{attrs:{src:r("dc49")}})]):e._e()],1),s("router-link",{staticClass:"home",attrs:{to:"/user/"+e.user.userName+"/home",exact:""}},[s("div",{staticClass:"logo-img"},[s("img",{attrs:{src:r("97c6")}})])]),s("div",{staticClass:"search"},[s("user-search")],1),s("div",{staticClass:"navbar-controllers"},[s("router-link",{attrs:{to:"/user/"+e.user.userName+"/home",exact:""},domProps:{innerHTML:e._s("home-page"===e.router?e.homePathColor.fullHome:e.homePathColor.emptyHome)}}),s("svg",{staticClass:"inbox",attrs:{fill:"#262626",height:"22",viewBox:"0 0 48 48",width:"22"}},[s("path",{attrs:{d:"M46.5 3.5h-45C.6 3.5.2 4.6.8 5.2l16 15.8 5.5 22.8c.2.9 1.4 1 1.8.3L47.4 5c.4-.7-.1-1.5-.9-1.5zm-40.1 3h33.5L19.1 18c-.4.2-.9.1-1.2-.2L6.4 6.5zm17.7 31.8l-4-16.6c-.1-.4.1-.9.5-1.1L41.5 9 24.1 38.3z"}}),s("path",{attrs:{d:"M14.7 48.4l2.9-.7"}})]),s("svg",{staticClass:"compass",attrs:{height:"22",viewBox:"0 0 48 48",width:"22"}},[s("path",{attrs:{"clip-rule":"evenodd",d:"M24 .5C37 .5 47.5 11 47.5 24S37 47.5 24 47.5.5 37 .5 24 11 .5 24 .5zm0 44c11.3 0 20.5-9.2 20.5-20.5S35.3 3.5 24 3.5 3.5 12.7 3.5 24 12.7 44.5 24 44.5zm-4.4-23.7c.3-.5.7-.9 1.2-1.2l14.8-8.1c.3-.1.6-.1.8.1.2.2.3.5.1.8l-8.1 14.8c-.3.5-.7.9-1.2 1.2l-14.8 8.1c-.3.1-.6.1-.8-.1-.2-.2-.3-.5-.1-.8l8.1-14.8zm6.2 5l4.3-7.8-7.8 4.3 3.5 3.5z","fill-rule":"evenodd"}})]),s("a",{staticClass:"likes"},[s("svg",{attrs:{height:"22",viewBox:"0 0 48 48",width:"22"}},[s("path",{attrs:{"clip-rule":"evenodd",d:"M34.3 3.5C27.2 3.5 24 8.8 24 8.8s-3.2-5.3-10.3-5.3C6.4 3.5.5 9.9.5 17.8s6.1 12.4 12.2 17.8c9.2 8.2 9.8 8.9 11.3 8.9s2.1-.7 11.3-8.9c6.2-5.5 12.2-10 12.2-17.8 0-7.9-5.9-14.3-13.2-14.3zm-1 29.8c-5.4 4.8-8.3 7.5-9.3 8.1-1-.7-4.6-3.9-9.3-8.1-5.5-4.9-11.2-9-11.2-15.6 0-6.2 4.6-11.3 10.2-11.3 4.1 0 6.3 2 7.9 4.2 3.6 5.1 1.2 5.1 4.8 0 1.6-2.2 3.8-4.2 7.9-4.2 5.6 0 10.2 5.1 10.2 11.3 0 6.7-5.7 10.8-11.2 15.6z","fill-rule":"evenodd"}})])]),s("router-link",{attrs:{to:"/user/"+e.user.userName,exact:""}},[s("img",{staticClass:"navbar-profile-pic",attrs:{src:this.user.avatar}})])],1)],1)])},j=[],L=(r("b0c0"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.filterBy.name,expression:"filterBy.name"}],staticClass:"search-box",attrs:{type:"text",placeholder:"Search"},domProps:{value:e.filterBy.name},on:{input:[function(t){t.target.composing||e.$set(e.filterBy,"name",t.target.value)},e.emitFilter]}})])}),B=[],E={data:function(){return{filterBy:{name:""}}},methods:{emitFilter:function(){this.$emit("set-filter",JSON.parse(JSON.stringify(this.filterBy)))}}},$=E,S=Object(c["a"])($,L,B,!1,null,null,null),z=S.exports,G={components:{userSearch:z},computed:{user:function(){var e=this.$store.getters.loggedInUser;return console.log("navbar user",e),e}},data:function(){return{router:this.$route.name,homePathColor:y.getHomePath()}}},H=G,V=Object(c["a"])(H,M,j,!1,null,null,null),Q=V.exports,D={name:"home",components:{postList:U,navbar:Q},computed:{posts:function(){return this.$store.getters.posts}},created:function(){this.$store.dispatch({type:"loadPosts"})}},T=D,F=Object(c["a"])(T,d,m,!1,null,null,null),Y=F.exports,q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.loggedInUser?r("section",[r("navbar"),r("div",{staticClass:"profile"},[r("div",{staticClass:"deatils-section"},[r("img",{staticClass:"profile-pic",attrs:{src:e.loggedInUser.avatar}}),r("div",[r("div",{staticClass:"top-user-deatils"},[r("span",{staticClass:"profile-userName"},[e._v(e._s(e.loggedInUser.userName))]),r("div",[r("button",{staticClass:"post-menu",attrs:{type:"button"},on:{click:e.changeModal}},[r("svg",{staticClass:"_8-yf5",attrs:{"aria-label":"Options",fill:"#262626",height:"24",viewBox:"0 0 48 48",width:"24"}},[r("path",{attrs:{"clip-rule":"evenodd",d:"M46.7 20.6l-2.1-1.1c-.4-.2-.7-.5-.8-1-.5-1.6-1.1-3.2-1.9-4.7-.2-.4-.3-.8-.1-1.2l.8-2.3c.2-.5 0-1.1-.4-1.5l-2.9-2.9c-.4-.4-1-.5-1.5-.4l-2.3.8c-.4.1-.8.1-1.2-.1-1.4-.8-3-1.5-4.6-1.9-.4-.1-.8-.4-1-.8l-1.1-2.2c-.3-.5-.8-.8-1.3-.8h-4.1c-.6 0-1.1.3-1.3.8l-1.1 2.2c-.2.4-.5.7-1 .8-1.6.5-3.2 1.1-4.6 1.9-.4.2-.8.3-1.2.1l-2.3-.8c-.5-.2-1.1 0-1.5.4L5.9 8.8c-.4.4-.5 1-.4 1.5l.8 2.3c.1.4.1.8-.1 1.2-.8 1.5-1.5 3-1.9 4.7-.1.4-.4.8-.8 1l-2.1 1.1c-.5.3-.8.8-.8 1.3V26c0 .6.3 1.1.8 1.3l2.1 1.1c.4.2.7.5.8 1 .5 1.6 1.1 3.2 1.9 4.7.2.4.3.8.1 1.2l-.8 2.3c-.2.5 0 1.1.4 1.5L8.8 42c.4.4 1 .5 1.5.4l2.3-.8c.4-.1.8-.1 1.2.1 1.4.8 3 1.5 4.6 1.9.4.1.8.4 1 .8l1.1 2.2c.3.5.8.8 1.3.8h4.1c.6 0 1.1-.3 1.3-.8l1.1-2.2c.2-.4.5-.7 1-.8 1.6-.5 3.2-1.1 4.6-1.9.4-.2.8-.3 1.2-.1l2.3.8c.5.2 1.1 0 1.5-.4l2.9-2.9c.4-.4.5-1 .4-1.5l-.8-2.3c-.1-.4-.1-.8.1-1.2.8-1.5 1.5-3 1.9-4.7.1-.4.4-.8.8-1l2.1-1.1c.5-.3.8-.8.8-1.3v-4.1c.4-.5.1-1.1-.4-1.3zM24 41.5c-9.7 0-17.5-7.8-17.5-17.5S14.3 6.5 24 6.5 41.5 14.3 41.5 24 33.7 41.5 24 41.5z","fill-rule":"evenodd"}})])])])]),r("div",{staticClass:"user-deatils"},[r("span",{staticClass:"deatails"},[e._v(e._s(e.loggedInUser.posts.length))]),r("span",[e._v("posts")]),r("span",{staticClass:"deatails"},[e._v(e._s(e.loggedInUser.followers.length))]),r("span",[e._v("followers")]),r("span",{staticClass:"deatails"},[e._v(e._s(e.loggedInUser.following.length))]),r("span",[e._v("following")])])])]),e.isModalOpen?r("div",{staticClass:"post-modal",on:{click:e.changeModal}},[r("ul",{staticClass:"action-list"},[r("li",{on:{click:e.doLogout}},[e._v("Logout")]),r("li",{staticClass:"close-modal"},[e._v("Cancel")])])]):e._e(),r("hr"),e._m(0),r("div",{staticClass:"posts-container"},e._l(e.loggedInUser.posts,(function(e){return r("div",{key:e._id},[r("img",{staticClass:"grid-item",attrs:{src:e.imgUrl}})])})),0)])],1):e._e()},K=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"show-options"},[r("span",[e._v("posts")]),r("span",[e._v("igtv")]),r("span",[e._v("saved")]),r("span",[e._v("tagged")])])}],Z={name:"profile",components:{navbar:Q},data:function(){return{isModalOpen:!1}},computed:{loggedInUser:function(){return this.$store.getters.loggedInUser}},methods:{changeModal:function(){this.isModalOpen=!this.isModalOpen},doLogout:function(){this.$store.dispatch({type:"logout"}),this.$router.push("/")}}},W=Z,J=Object(c["a"])(W,q,K,!1,null,null,null),X=J.exports,ee=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"login-page"},[e._m(0),s("div",{staticClass:"sign-in-section"},[s("img",{staticClass:"login-logo",attrs:{src:r("97c6"),alt:"logo"}}),s("div",[s("form",{on:{submit:function(t){return t.preventDefault(),e.doLogin(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.loginCred.userName,expression:"loginCred.userName"}],staticClass:"form-input",attrs:{type:"text",placeholder:"Username"},domProps:{value:e.loginCred.userName},on:{input:function(t){t.target.composing||e.$set(e.loginCred,"userName",t.target.value)}}}),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:e.loginCred.password,expression:"loginCred.password"}],staticClass:"form-input",attrs:{type:"password",placeholder:"Password"},domProps:{value:e.loginCred.password},on:{input:function(t){t.target.composing||e.$set(e.loginCred,"password",t.target.value)}}}),s("br"),s("div",{staticClass:"error-msg"},[e._v(e._s(this.msg)+" ")]),s("button",{staticClass:"login-section-btn"},[e._v("Login")])])]),s("hr"),s("div",{staticClass:"guest-mode"},[s("span",{staticClass:"login-as-guest",on:{click:e.loginAsGuest}},[e._v("Login as guest")])])])])},te=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-background"},[s("img",{attrs:{src:r("b7a4"),alt:"logo"}})])}],re={name:"login",data:function(){return{loginCred:{},signupCred:{},userToEdit:{},msg:"",isGuest:!1}},computed:{users:function(){return this.$store.getters.users},loggedInUser:function(){return this.$store.getters.loggedInUser},userName:function(){return this.$store.getters.loggedInUser.userName}},methods:{doLogin:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.loginCred,r.userName&&(r.password||!1!==e.isGuest)){t.next=3;break}return t.abrupt("return",e.msg="Please enter userName/password");case 3:return t.next=5,e.$store.dispatch({type:"login",userCred:r});case 5:if(s=t.sent,e.loginCred={},!s){t.next=11;break}e.$router.push("/user/"+s.userName+"/home"),t.next=12;break;case 11:return t.abrupt("return",e.msg="userName or password incorrect");case 12:case"end":return t.stop()}}),t)})))()},doLogout:function(){this.$store.dispatch({type:"logout"}),!0===this.isGuest&&(this.isGuest=!1)},doSignup:function(){var e=this.signupCred;this.$store.dispatch({type:"signup",userCred:e})},loginAsGuest:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loginCred.userName="guest",e.loginCred.password="1",e.isGuest=!0,e.doLogin();case 4:case"end":return t.stop()}}),t)})))()}}},se=re,ne=Object(c["a"])(se,ee,te,!1,null,null,null),ae=ne.exports,oe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",[s("navbar"),s("section",{staticClass:"new-post"},[s("div",{staticClass:"create-body"},[s("form",{staticClass:"create-form",on:{submit:function(t){return t.preventDefault(),e.addPost(t)}}},[s("div",{staticClass:"create-form-body"},[s("div",{staticClass:"create-top"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.post.desc,expression:"post.desc"}],staticClass:"form-input",attrs:{type:"text",placeholder:"write a caption here",required:""},domProps:{value:e.post.desc},on:{input:function(t){t.target.composing||e.$set(e.post,"desc",t.target.value)}}}),e._m(0)]),s("label",[s("input",{staticClass:"choose-file",attrs:{type:"file"},on:{change:e.uploadImg}}),e.post.uploadedImg?e._e():s("img",{staticClass:"place-holder",attrs:{src:r("8115")}}),e.post.uploadedImg?s("img",{attrs:{src:e.post.uploadedImg}}):e._e()])])])])])],1)},ie=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"publish"},[s("img",{attrs:{src:r("4e63")}})])}],ce={name:"create-post",components:{navbar:Q},data:function(){return{post:{desc:"",uploadedImg:""}}},computed:{loggedInUser:function(){return this.$store.getters.loggedInUser},userName:function(){return this.$store.getters.loggedInUser.userName}},methods:{addPost:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={desc:e.post.desc,createdBy:{userName:e.loggedInUser.userName,fullName:e.loggedInUser.fullName,avatar:e.loggedInUser.avatar},imgUrl:e.post.uploadedImg,likes:0,location:"",comments:[],isliked:!1,timeStamp:Date.now()},t.next=3,e.$store.dispatch({type:"addPost",post:r});case 3:return s=r.createdBy.userName,t.next=6,e.$store.dispatch({type:"updateUser",userName:s});case 6:e.$router.push("/user/"+s+"/home");case 7:case"end":return t.stop()}}),t)})))()},uploadImg:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){var s,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch({type:"addImg",ev:e});case 2:s=r.sent,n=s.url,t.post.uploadedImg=n;case 5:case"end":return r.stop()}}),r)})))()}}},ue=ce,le=Object(c["a"])(ue,oe,ie,!1,null,null,null),ge=le.exports;s["a"].use(p["a"]);var pe=[{path:"/",name:"login",component:ae},{path:"/user/:id/home",name:"home-page",component:Y},{path:"/user/:id",name:"profile",component:X},{path:"/user/:id/create",name:"create",component:ge}],de=new p["a"]({routes:pe}),me=de,fe=r("2f62"),Ce=(r("4de4"),r("7db0"),r("99af"),r("bc3a")),he=r.n(Ce),ve="/api/",Ie=he.a.create({withCredentials:!0}),Ae={get:function(e,t){return we(e,"GET",t)},post:function(e,t){return we(e,"POST",t)},put:function(e,t){return we(e,"PUT",t)},delete:function(e,t){return we(e,"DELETE",t)}};function we(e){return be.apply(this,arguments)}function be(){return be=Object(I["a"])(regeneratorRuntime.mark((function e(t){var r,s,n,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:"get",s=a.length>2&&void 0!==a[2]?a[2]:null,e.prev=2,e.next=5,Ie({url:"".concat(ve).concat(t),method:r,data:s});case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e["catch"](2),401===e.t0.response.status&&me.push("/");case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),be.apply(this,arguments)}function ye(){return Ae.get("post")}function xe(e){return Ae.put("post/add-comment/".concat(e.postId),e)}function _e(e){return Ae.post("post",e)}function ke(e){return console.log(e),Ae.put("post/like/".concat(e._id),e)}function Oe(e){return Ae.delete("post/".concat(e._id))}var Pe={query:ye,addComment:xe,add:_e,deletePost:Oe,changeLike:ke},Re=(r("d3b7"),{uploadImg:Ne});function Ne(e){var t="dtaueiugf",r="https://api.cloudinary.com/v1_1/".concat(t,"/image/upload"),s=new FormData;return s.append("file",e.target.files[0]),s.append("upload_preset","vjmxyc8l"),fetch(r,{method:"POST",body:s}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.error(e)}))}var Ue={state:{posts:[]},mutations:{setPosts:function(e,t){var r=t.posts;e.posts=r},addPost:function(e,t){var r=t.post;e.posts.unshift(r)},addComment:function(e,t){var r=t.comment,s=e.posts.find((function(e){return e._id===r.postId}));s.comments.unshift(r)},deletePost:function(e,t){var r=t.post;e.posts=e.posts.filter((function(e){return e._id!==r._id}))},changeLike:function(e,t){var r=t.post,s=e.posts.find((function(e){return e._id===r._id}));console.log(s.isLiked)}},getters:{posts:function(e){return e.posts}},actions:{loadPosts:function(e){return Object(I["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Pe.query();case 2:r=t.sent,console.log("posts store",r),e.commit({type:"setPosts",posts:r});case 5:case"end":return t.stop()}}),t)})))()},addComment:function(e,t){var r=t.comment;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Pe.addComment(r);case 2:e.commit({type:"addComment",comment:r});case 3:case"end":return t.stop()}}),t)})))()},addImg:function(e,t){var r=t.ev;return Object(I["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Re.uploadImg(r);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))()},addPost:function(e,t){var r=t.post;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Pe.add(r);case 2:return r=t.sent,e.commit({type:"addPost",post:r}),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))()},deletePost:function(e,t){var r=t.post;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Pe.deletePost(r);case 2:e.commit({type:"deletePost",post:r});case 3:case"end":return t.stop()}}),t)})))()},editPost:function(e,t){var r=t.post;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Pe.editPost(r);case 2:e.commit({type:"editPost",post:r});case 3:case"end":return t.stop()}}),t)})))()},changeLike:function(e,t){var r=t.post;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("got here"),t.next=3,Pe.changeLike(r);case 3:e.commit({type:"changeLike",post:r});case 4:case"end":return t.stop()}}),t)})))()}}},Me={login:je,logout:Ee,getUsers:Se,getByUserName:Be};function je(e){return Le.apply(this,arguments)}function Le(){return Le=Object(I["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ae.post("auth/login",t);case 2:if(r=e.sent,!r){e.next=5;break}return e.abrupt("return",ze(r));case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)}))),Le.apply(this,arguments)}function Be(e){return Ae.get("user/".concat(e))}function Ee(){return $e.apply(this,arguments)}function $e(){return $e=Object(I["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ae.post("auth/logout");case 2:sessionStorage.clear();case 3:case"end":return e.stop()}}),e)}))),$e.apply(this,arguments)}function Se(){return Ae.get("user")}function ze(e){return sessionStorage.setItem("user",JSON.stringify(e)),e}var Ge=null;sessionStorage.user&&(Ge=JSON.parse(sessionStorage.user));var He={state:{loggedInUser:Ge,users:[],isGuest:!1},getters:{users:function(e){return e.users},loggedInUser:function(e){return e.loggedInUser},isGuest:function(e){return e.isGuest}},mutations:{setUser:function(e,t){var r=t.user;e.loggedInUser=r},setUsers:function(e,t){var r=t.users;e.users=r},removeUser:function(e,t){var r=t.userId;e.users=e.users.filter((function(e){return e._id!==r}))}},actions:{login:function(e,t){var r=t.userCred;return Object(I["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Me.login(r);case 2:return s=t.sent,e.commit({type:"setUser",user:s}),t.abrupt("return",s);case 5:case"end":return t.stop()}}),t)})))()},signup:function(e,t){var r=t.userCred;return Object(I["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Me.signup(r);case 2:return s=t.sent,e.commit({type:"setUser",user:s}),t.abrupt("return",s);case 5:case"end":return t.stop()}}),t)})))()},logout:function(e){return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Me.logout();case 2:e.commit({type:"setUsers",users:[]}),e.commit({type:"setUser",user:null});case 4:case"end":return t.stop()}}),t)})))()},loadUsers:function(e){return Object(I["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Me.getUsers();case 2:return r=t.sent,e.commit({type:"setUsers",users:r}),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))()},updateUser:function(e,t){var r=t.userName;return Object(I["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("before:",r),t.next=3,Me.getByUserName(r);case 3:return s=t.sent,console.log("userStore update user:",s),e.commit({type:"setUser",user:s}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})))()},removeUser:function(e,t){var r=t.userId;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Me.remove(r);case 2:e.commit({type:"removeUser",userId:r});case 3:case"end":return t.stop()}}),t)})))()}}};s["a"].use(fe["a"]);var Ve=new fe["a"].Store({state:{},mutations:{},actions:{},modules:{postStore:Ue,userStore:He}});r("fb98");s["a"].config.productionTip=!1,new s["a"]({router:me,store:Ve,render:function(e){return e(l)}}).$mount("#app")},8115:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAyAAAAMgAgMAAACmHu77AAAADFBMVEWzs7Pf39/ExMTU1NRdkO0cAAAEDklEQVR4Xu3cIW4bURAG4PVWBVFUmCMEBpb7CAXdtVVZkWGh4cK9hI8S7kuYF+YYBS/NqFK1RpX6b7+hQR+Y7PvHo+mGlRQICAhIQIGAgIBEFggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMjULVR/zYHM3VI9xkDGbrHuYiD7ZUgfAzl1y3VNgRxvQM4pkO0NyEMYBAQEBAQEBORh+W+3CwQEBAQE5LV/WQVkqmlcNmSuaVw05FDTuGzIqYZY2ZBLhY9sSI2ssyFjjayzIYcG2cRD9g3Sx0O+dK3iIac3yDUdcnyDnP8RCMi2hj//KQQExH8tH0RPFI/GesZ/WFewmvprLGSYK+oOc3efC9nW93BsovRxUNvg6s+pkLFa5NiWGfNHpm3E9ZQK2f/6iuy6Vi/pPyt8rU3ZPMgftzXvwyG1rfmUDbl07zVHQ9ayizKuBXJYC+S0Fsh2LZA5H1IPlH6OhlSvb56jIfVA+TRMyZAKI5+H4Uc65PI2b9zN2ZDd+5juWzZkrOnW91hI9XpLinMy5FTTreE5ElKsck3BkPm3ZadLIqR6vY/fMq09unRIW0n5GA6pB0o2pHr9nA2pMDJEQ2paugmHVBjJhlSvP6ZDKozkQ1oYyYZUGMmGVK/fhUMqjIRDKoyEQyqMhEMqjGRDKoyEQyqM5EMqjBTEhQEQEBAQEBAQx/ScN/wLBycjT4A6yupMrgvMICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/AQH02ncA8PdGAAAAAElFTkSuQmCC"},"97c6":function(e,t,r){e.exports=r.p+"img/logo.3fa679b1.png"},b7a4:function(e,t,r){e.exports=r.p+"img/login-background.1052f748.png"},dc49:function(e,t,r){e.exports=r.p+"img/add_btn.d49e96c8.png"},fb98:function(e,t,r){}});
//# sourceMappingURL=app.e060cfb5.js.map